<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NightShop - –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</title>
    

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Island+Moments&display=swap" rel="stylesheet">
    

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <div class="logo">NightShop</div>
        <nav>
            <button onclick="scrollToCatalog()">–ö–∞—Ç–∞–ª–æ–≥</button>
            <button>–¢—Ä–µ–π–¥-–∏–Ω</button>
            <button>–ì–∞—Ä–∞–Ω—Ç–∏—è</button>
            <button class="cart-btn" onclick="openCart()">
                –ö–æ—Ä–∑–∏–Ω–∞ <span class="cart-count" id="cartCount">0</span>
            </button>
        </nav>
    </header>

    <section class="hero">
        <div>
            <h1>NIGHTSHOP ELECTRONICS</h1>
            <p>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –±—É–¥—É—â–µ–≥–æ —É–∂–µ –∑–¥–µ—Å—å.</p>
        </div>
    </section>


    <main class="container" id="catalog">
        <h2 class="section-title">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h2>
        

        <div class="filters">
            <button class="filter-btn active" onclick="filterProducts('all')">–í—Å–µ</button>
            <button class="filter-btn" onclick="filterProducts('phones')">–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã</button>
            <button class="filter-btn" onclick="filterProducts('laptops')">–ù–æ—É—Ç–±—É–∫–∏</button>
            <button class="filter-btn" onclick="filterProducts('audio')">–ê—É–¥–∏–æ</button>
            <button class="filter-btn" onclick="filterProducts('accessories')">–ì–∞–¥–∂–µ—Ç—ã</button>
        </div>


        <div class="products-grid" id="productsGrid">

        </div>
    </main>


    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('cartModal')">&times;</span>
            <h2>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <ul class="cart-items" id="cartList">
                <li>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</li>
            </ul>
            <div class="cart-total">–ò—Ç–æ–≥–æ: <span id="cartTotal">0</span> ‚ÇΩ</div>
            <button class="checkout-btn" onclick="checkout()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –¢–û–í–ê–†–ê -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('productModal')">&times;</span>
            <div style="text-align: center; font-size: 5rem; margin-bottom: 10px;" id="modalImg"></div>
            <h2 id="modalTitle">–ù–∞–∑–≤–∞–Ω–∏–µ</h2>
            <p id="modalDesc" style="margin: 15px 0; color: #555; line-height: 1.5;">–û–ø–∏—Å–∞–Ω–∏–µ...</p>
            <p style="font-weight: bold; font-size: 1.5em; color: #333;">–¶–µ–Ω–∞: <span id="modalPrice">0</span> ‚ÇΩ</p>
            <button class="add-btn" id="modalAddBtn" style="margin-top: 15px;">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
    </div>

    <script>
        /* --- –ë–ê–ó–ê –î–ê–ù–ù–´–• –ò –õ–û–ì–ò–ö–ê (JS) --- */

        const products = [
            { id: 1, name: "iPhone 15 Pro", category: "phones", price: 125000, image: "üì±", desc: "–¢–∏—Ç–∞–Ω–æ–≤—ã–π –∫–æ—Ä–ø—É—Å, —á–∏–ø A17 Pro –∏ –ª—É—á—à–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞–º–µ—Ä. –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ñ–æ—Ç–æ –∏ –∏–≥—Ä." },
            { id: 2, name: "Samsung Galaxy S24", category: "phones", price: 110000, image: "üì≤", desc: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç Galaxy AI, –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–π —ç–∫—Ä–∞–Ω AMOLED 120–ì—Ü." },
            { id: 3, name: "MacBook Air 15\"", category: "laptops", price: 160000, image: "üíª", desc: "–¢–æ–Ω–∫–∏–π, –ª–µ–≥–∫–∏–π, –Ω–∞ —á–∏–ø–µ M3. –†–∞–±–æ—Ç–∞–µ—Ç –¥–æ 18 —á–∞—Å–æ–≤ –±–µ–∑ –ø–æ–¥–∑–∞—Ä—è–¥–∫–∏." },
            { id: 4, name: "–ò–≥—Ä–æ–≤–æ–π –ù–æ—É—Ç–±—É–∫ ROG", category: "laptops", price: 195000, image: "üñ•Ô∏è", desc: "–ú–æ—â–Ω–∞—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–∞ RTX 4070, 32GB RAM. –î–ª—è —Å–∞–º—ã—Ö —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–≥—Ä." },
            { id: 5, name: "AirPods Max", category: "audio", price: 65000, image: "üéß", desc: "–ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –∞—É–¥–∏–æ." },
            { id: 6, name: "JBL Pulse 5", category: "audio", price: 25000, image: "üîà", desc: "–ü–æ—Ä—Ç–∞—Ç–∏–≤–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ —Å –ø–æ—Ç—Ä—è—Å–∞—é—â–µ–π LED-–ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ –≥–ª—É–±–æ–∫–∏–º–∏ –±–∞—Å–∞–º–∏." },
            { id: 7, name: "Apple Watch Ultra 2", category: "accessories", price: 90000, image: "‚åö", desc: "–°–∞–º—ã–µ –ø—Ä–æ—á–Ω—ã–µ —á–∞—Å—ã Apple. –î–ª—è –¥–∞–π–≤–∏–Ω–≥–∞, –∞–ª—å–ø–∏–Ω–∏–∑–º–∞ –∏ —ç–∫—Å—Ç—Ä–∏–º–∞." },
            { id: 8, name: "PlayStation 5 Slim", category: "accessories", price: 55000, image: "üéÆ", desc: "–ò–≥—Ä–æ–≤–∞—è –∫–æ–Ω—Å–æ–ª—å –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è. 4K –≥–µ–π–º–∏–Ω–≥, SSD –∏ —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞." },
            { id: 9, name: "PlayStation 5", category: "accessories", price: 40000, image: "üéÆ", desc: "–ò–≥—Ä–æ–≤–∞—è –∫–æ–Ω—Å–æ–ª—å –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è. 4K –≥–µ–π–º–∏–Ω–≥, SSD –∏ —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞." },
            { id: 10, name: "Mi 15T Pro", category: "phones", price: 50000, image: "üì±", desc: "–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Ç–µ–ª–µ—Ñ–æ–Ω —Å 144 –ì—Ü —ç–∫—Ä–∞–Ω–æ–º, Dimensity 9400+ –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –∏ –±–æ–ª—å—à–∞—è –±–∞—Ç–∞—Ä–µ—è." }
        ];

        let cart = [];
        const productsGrid = document.getElementById('productsGrid');

        function renderProducts(filter = 'all') {
            productsGrid.innerHTML = ''; 
            
            const filtered = filter === 'all' ? products : products.filter(p => p.category === filter);

            filtered.forEach(product => {
                const formattedPrice = product.price.toLocaleString();
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-img" onclick="showProductDetails(${product.id})">${product.image}</div>
                    <div class="product-info">
                        <h3>${product.name}</h3>
                        <div class="product-desc-short">${product.desc.substring(0, 50)}...</div>
                        <div class="product-price">${formattedPrice} ‚ÇΩ</div>
                        <button class="add-btn" onclick="addToCart(${product.id})">–í –∫–æ—Ä–∑–∏–Ω—É</button>
                    </div>
                `;
                productsGrid.appendChild(card);
            });
        }

        function filterProducts(category) {
            renderProducts(category);
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(b => {
                b.classList.remove('active');
                if(b.textContent.toLowerCase().includes(getCategoryNameRU(category).toLowerCase()) || (category === 'all' && b.textContent === '–í—Å–µ')) {
                     b.classList.add('active');
                }
            });
            if(event) event.target.classList.add('active');
        }
        
        function getCategoryNameRU(cat) {
            const map = { 'phones': '–°–º–∞—Ä—Ç—Ñ–æ–Ω—ã', 'laptops': '–ù–æ—É—Ç–±—É–∫–∏', 'audio': '–ê—É–¥–∏–æ', 'accessories': '–ì–∞–¥–∂–µ—Ç—ã' };
            return map[cat] || '';
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            const existingItem = cart.find(item => item.id === id);
            if (existingItem) { existingItem.qty++; } else { cart.push({ ...product, qty: 1 }); }
            updateCartUI();
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cartCount');
            const cartList = document.getElementById('cartList');
            const cartTotal = document.getElementById('cartTotal');

            const totalQty = cart.reduce((sum, item) => sum + item.qty, 0);
            cartCount.textContent = totalQty;

            cartList.innerHTML = '';
            let totalPrice = 0;

            if (cart.length === 0) {
                cartList.innerHTML = '<li style="text-align:center; color:#777;">–í –∫–æ—Ä–∑–∏–Ω–µ –ø–æ–∫–∞ –ø—É—Å—Ç–æ</li>';
            } else {
                cart.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'cart-item';
                    li.innerHTML = `
                        <div>
                            <strong>${item.name}</strong> <br>
                            <span style="font-size:0.9em; color:#666;">${item.qty} —à—Ç. x ${item.price.toLocaleString()} ‚ÇΩ</span>
                        </div>
                        <div style="display:flex; align-items:center;">
                            <span>${(item.price * item.qty).toLocaleString()} ‚ÇΩ</span>
                            <span class="remove-btn" onclick="removeFromCart(${item.id})">&times;</span>
                        </div>
                    `;
                    cartList.appendChild(li);
                    totalPrice += item.price * item.qty;
                });
            }
            cartTotal.textContent = totalPrice.toLocaleString();
        }

        function openCart() { document.getElementById('cartModal').style.display = 'flex'; }

        function showProductDetails(id) {
            const product = products.find(p => p.id === id);
            document.getElementById('modalImg').textContent = product.image;
            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalDesc').textContent = product.desc;
            document.getElementById('modalPrice').textContent = product.price.toLocaleString();
            
            const btn = document.getElementById('modalAddBtn');
            btn.onclick = function() { 
                addToCart(product.id); 
                closeModal('productModal'); 
            };
            document.getElementById('productModal').style.display = 'flex';
        }

        function closeModal(modalId) { document.getElementById(modalId).style.display = 'none'; }
        
        function checkout() {
            if(cart.length === 0) { alert("–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É!"); return; }
            alert('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏.');
            cart = []; updateCartUI(); closeModal('cartModal');
        }

        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) { event.target.style.display = "none"; }
        }

        function scrollToCatalog() { document.getElementById('catalog').scrollIntoView({behavior: "smooth"}); }

        renderProducts();
    </script>
</body>
</html>